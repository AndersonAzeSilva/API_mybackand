// incidentRoutes.js

const express = require('express');
const incidentController = require('../controllers/incidentController'); // Ajuste o caminho conforme necessário
const authMiddleware = require('../middlewares/authMiddleware'); // Inclua o middleware de autenticação

const router = express.Router();

/////////////////////////////////////////////////////////////////////////////////////////////
// Rota para criar um novo incidente
/////////////////////////////////////////////////////////////////////////////////////////////
router.post('/', authMiddleware, incidentController.createIncident);

/////////////////////////////////////////////////////////////////////////////////////////////
// Rota para obter todos os incidentes
/////////////////////////////////////////////////////////////////////////////////////////////
router.get('/', authMiddleware, incidentController.getAllIncidents);

/////////////////////////////////////////////////////////////////////////////////////////////
// Rota para obter um incidente específico pelo ID
/////////////////////////////////////////////////////////////////////////////////////////////
router.get('/:id', authMiddleware, incidentController.getIncidentById);

/////////////////////////////////////////////////////////////////////////////////////////////
// Rota para atualizar um incidente pelo ID
/////////////////////////////////////////////////////////////////////////////////////////////
router.put('/:id', authMiddleware, incidentController.updateIncident);

/////////////////////////////////////////////////////////////////////////////////////////////
// Rota para deletar um incidente pelo ID
/////////////////////////////////////////////////////////////////////////////////////////////
router.delete('/:id', authMiddleware, incidentController.deleteIncident);

module.exports = router;

/////////////////////////////////////////////////////////////////////////////////////////////
